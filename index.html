<!DOCTYPE html>
<html>
<head>
    <title>Auto-Detect Continent & Load Website</title>
    <style>
        body { 
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
        }
        iframe { 
            width: 100%; 
            height: 100%; 
            border: none;
        }
        
        /* Popup URL Widget for Blogger */
        #popup-panel {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            background: #222;
            border: 2px solid #ba63c6;
            z-index: 1000;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        #popup-panel iframe {
            width: 100%;
            height: 90%;
            border: none;
        }

        #popup-panel .close-btn {
            background: #ba63c6;
            color: #fff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 16px;
            position: absolute;
            top: 10px;
            right: 10px;
            display: none;
        }

        #countdown {
            position: absolute;
            top: 10px;
            right: 50px;
            color: #fff;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <iframe id="continentFrame" src="" frameborder="0"></iframe>
    
    <!-- Popup URL Widget -->
    <div id="popup-panel">
        <span id="countdown">9</span>
        <button class="close-btn" id="close-btn" onclick="closePopup()">✖</button>
        <iframe 
            id="popup-iframe" 
            src="https://www.effectiveratecpm.com/m2x6hz2fy?key=f3a141db38ea1a2029c2217fc6e98f4b"
            onerror="handleIframeError()"
        ></iframe>
    </div>

    <script>
        // Main continent detection and loading
        async function detectContinent() {
            try {
                const response = await fetch("https://ipapi.co/json/");
                const data = await response.json();
                loadWebsite(data.continent_code);
            } catch (error) {
                loadWebsite("FALLBACK");
            }
        }

        function loadWebsite(continentCode) {
            const continentMap = {
                "AS": "https://mostbeautifulgirl10.blogspot.com/2025/03/asian-countries-beautiful-women.html",
                "AF": "https://mostbeautifulgirl10.blogspot.com/2025/03/5-african-countries-with-most-beautiful.html",
                "EU": "https://mostbeautifulgirl10.blogspot.com/2025/03/%20beautiful%20Europe%20girls.html",
                "NA": "https://mostbeautifulgirl10.blogspot.com/2025/03/blog-post.html",
                "SA": "https://mostbeautifulgirl10.blogspot.com/2025/03/blog-post_25.html",
                "OC": "https://mostbeautifulgirl10.blogspot.com/2025/03/The%20Most%20Beautiful%20Women%20In%20AustraliaOceania..html",
                "AN": "https://mostbeautifulgirl10.blogspot.com/2025/03/Countries%20with%20the%20Most%20Beautiful%20Women%20in%20the%20World.html",
                "FALLBACK": "https://mostbeautifulgirl10.blogspot.com/2025/03/Countries%20with%20the%20Most%20Beautiful%20Women%20in%20the%20World.html"
            };

            document.getElementById("continentFrame").src = continentMap[continentCode] || continentMap["FALLBACK"];
        }

        // Popup widget functionality
        setTimeout(() => {
            document.getElementById('popup-panel').style.display = 'block';
            let countdown = 9;
            const countdownInterval = setInterval(() => {
                countdown--;
                document.getElementById('countdown').innerText = countdown;
                if (countdown <= 0) {
                    clearInterval(countdownInterval);
                    document.getElementById('close-btn').style.display = 'block';
                    document.getElementById('countdown').style.display = 'none';
                }
            }, 1000);
        }, 2000);

        function closePopup() {
            document.getElementById('popup-panel').style.display = 'none';
            document.getElementById('popup-iframe').src = '';
            window.open('https://www.effectiveratecpm.com/smaq263982?key=fa742dceed6cc3655c9079383e90d0d0', '_blank');
        }

        function handleIframeError() {
            console.warn('Iframe failed to load — opening in a new tab');
            window.open('https://www.effectiveratecpm.com/smaq263982?key=fa742dceed6cc3655c9079383e90d0d0', '_blank');
            closePopup();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            detectContinent();
            document.getElementById('continentFrame').requestFullscreen().catch(e => {});
        });
    </script>
</body>
</html>
